<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Секретная страница</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <!--comm <script src="script.js"></script -->
	
</head>
<body>
    <!--Start-->
    U2FsdGVkX1/t5nAd4Jt5wF8DlegZvYWIEgk3xH7HLMRUUx2MWngqe5cZExB9eZpHoePWwA3fUn1WpYZb61S4YjZk8shXibAgrS/mUP9a68kDiQ2f2auERiNRrHqHIb+wc7cuoniQAxYDWo4f8S4XviRG8Zosa0yK8wRADbcN+guQFXE32p+7GMf19mMiAmPdUnC+GBW6JyQBHTXmGsQlbQ/B8IfsOfgqJc6xOAD5W9c=
    <!--END-->
    <div id="accelerometerOutput"></div>
    <div id="gyroscopeOutput"></div>
    <div id="numOutput"></div>
	<script>
function detectOSByVoices() {
  const voices = speechSynthesis.getVoices();
  const hasEnglish = voices.some(voice => voice.lang.startsWith('en'));
  const hasRussian = voices.some(voice => voice.lang.startsWith('ru'));
  const googleVoices = voices.filter(voice => voice.name.includes('Google'));
  const microsoftVoices = voices.filter(voice => voice.name.includes('Microsoft'));
  const appleVoices = voices.filter(voice => voice.name.includes('Samantha') || voice.name.includes('Alex'));
  const androidVoices = voices.filter(voice => voice.name.includes('Samsung') || voice.name.includes('LG'));

  if (microsoftVoices.length > 0) {
    return "Windows (99% вероятность)";
  } else if (googleVoices.length > 0 && microsoftVoices.length > 0) {
    return "Windows с установленным Chrome";
  } else if (appleVoices.length > 0) {
    return "iOS/macOS";
  } else if (androidVoices.length > 0) {
    return "Android";
  } else if (googleVoices.length > 0) {
    return "Chrome OS или Android";
  } else if (hasEnglish && !hasRussian && appleVoices.length === 0) {
    return "Возможно Linux";
  } else {
    return "Не удалось точно определить ОС";
  }
}

function populateVoiceListAndDetectOS() {
  if (typeof speechSynthesis === 'undefined') {
    console.log("Speech synthesis не поддерживается в этом браузере.");
    return;
  }

  const voices = speechSynthesis.getVoices();

  if (voices.length > 0) {
    const numOutput = document.getElementById('numOutput');
    numOutput.innerHTML = ''; 

    voices.forEach(voice => {
      const voiceDiv = document.createElement('div');
      voiceDiv.textContent = `${voice.name} (${voice.lang})`;
      numOutput.appendChild(voiceDiv);
    });

    const os = detectOSByVoices();
    console.log("Операционная система:", os);
    numOutput.innerHTML += `<div>Операционная система: ${os}</div>`;
  } else {
    speechSynthesis.onvoiceschanged = function () {
      populateVoiceListAndDetectOS();
    };
  }
}

populateVoiceListAndDetectOS();
</script>

</body>

</html>
